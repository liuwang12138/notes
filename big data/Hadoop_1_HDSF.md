# 大数据启蒙

- 分而治之
- 并行计算
- 计算向数据移动
- 数据本地读取

# Hadoop - HDFS

## 存储模型

- 文件线性按字节切割成块(block)，具有offset(偏移量)，id

- 不同之间文件的block大小可以不一样

- 一个文件除最后一个block，其他block大小一致

  > unicode一个汉字2个字节，utf-8一个汉字3个字节存储，切割为block可能会切在不同的块里

- block的大小依据硬件的I/O特性调整

- block被分散存在集群的节点中，具有location

- block具有副本(replication)，没有主从概念，副本不能出现在同一个节点

  > 说某个block具有n个副本，则一共有n个此块，不存在主从

- 副本是满足可靠性和性能的关键

- 文件上传可以指定block大小和副本数，上传后只能修改副本数

- 一次写入多次读取，不支持修改

  > 如果支持修改，系统对文件块写入新数据，文件块放回的时候大小会改变，下一个文件快的偏移量会出错，必须要后面的所有文件块都做修改才能保证信息的正确性，操作消耗过多性能，泛洪操作

- 支持追加数据

  > 不会造成泛洪操作，只需要在最后追加文件块即可