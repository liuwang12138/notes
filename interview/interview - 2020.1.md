#### alibaba

- 如何设计一个秒杀系统

> 将请求拦截在系统上游，降低下游压力。
>  在一个并发量大，实际需求小的系统中，应当尽量在前端拦截无效流量，降低下游服务器和数据库的压力，不然很可能造成数据库读写锁冲突，甚至导致死锁，最终请求超时。
>
> **限流：**前端直接限流，允许少部分流量流向后端。
>
> **削峰：**瞬时大流量峰值容易压垮系统，解决这个问题是重中之重。常用的消峰方法有异步处理、缓存和消息中间件等技术。
>
> **异步处理：**秒杀系统是一个高并发系统，采用异步处理模式可以极大地提高系统并发量，其实异步处理就是削峰的一种实现方式。
>
> **内存缓存：**秒杀系统最大的瓶颈一般都是数据库读写，由于数据库读写属于磁盘IO，性能很低，如果能够把部分数据或业务逻辑转移到内存缓存，效率会有极大地提升。
>
> **消息队列：**消息队列可以削峰，将拦截大量并发请求，这也是一个异步处理过程，后台业务根据自己的处理能力，从消息队列中主动的拉取请求消息进行业务处理。
>
> **可拓展：**当然如果我们想支持更多用户，更大的并发，最好就将系统设计成弹性可拓展的，如果流量来了，拓展机器就好了，像淘宝、京东等双十一活动时会临时增加大量机器应对交易高峰。
>
> 
>
> 作者：占小狼
> 链接：https://www.jianshu.com/p/06479ea2dc46
> 来源：简书
> 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

- CPU爆高

> 思路：结合Linux和JDK命令一起分析
>
> 1、用top命令找出CPU占比最高的进程
>
> ![img](https://img2018.cnblogs.com/blog/805549/201907/805549-20190708231741210-805557508.png)
>
> 2、ps -ef|grep java|grep -v grep 或者jps -l进一步定位,得知是怎样一个后台程序惹事
>
> ![img](https://img2018.cnblogs.com/blog/805549/201907/805549-20190708232937701-1648300401.png)
>
> 3、定位到具体线程：ps -mp 进程编号 -o THREAD,tid,time 
>
> ```
> ps -mp ``4618` `-o THREAD,tid,time` `-m：显示所有线程``-p pid：进程使用CPU的时间``-o：用户自定义格式　　
> ```
>
> ![img](https://img2018.cnblogs.com/blog/805549/201907/805549-20190708233045669-526610164.png)
>
> 4、将需要的线程ID转换为16进制格式:printf "%x\n" 有问题的线程id
>
> ```
> printf ``"%x\n"` `4619``　　
> ```
>
> ![img](https://img2018.cnblogs.com/blog/805549/201907/805549-20190708233120384-1074463438.png)
>
> 5、jstack 进程ID|grep tid（16进制线程小写英文）-A60
>
> ```
> jstack ``4618` `| grep 120b -A60　　
> ```
>
>  ![img](https://img2018.cnblogs.com/blog/805549/201907/805549-20190708233241817-436057982.png)

- HashMap源码

#### 华为OD

- 不承认非全研究生
- 社招主要形势，人力租赁（劳动合同是和德科去签，四年）
- 工作安排，办公场所，福利等华为决定
- 2 / 3年看情况转正
- 正式员工预备役

##### 面试流程：

1. 机试题两道，总分400分，120分通过
2. 网测（性格测试）
3. 业务面试 多数一轮面试，少数两轮，极少数三轮（30min - 60min）
4. hr面试
5. 业务主管综合面试

